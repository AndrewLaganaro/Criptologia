//https://blockchain.info/block/000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f?format=hex

#include "pitches.h"

String bloco0 = "0100000000000000000000000000000000000000000000000000000000000000000000003ba3edfd7a7b12b27ac72c3e67768f617fc81bc3888a51323a9fb8aa4b1e5e4a29ab5f49ffff001d1dac2b7c0101000000010000000000000000000000000000000000000000000000000000000000000000ffffffff4d04ffff001d0104455468652054696d65732030332f4a616e2f32303039204368616e63656c6c6f72206f6e206272696e6b206f66207365636f6e64206261696c6f757420666f722062616e6b73ffffffff0100f2052a01000000434104678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5fac00000000";
String blocox = "000000209ee02dae6f03c89bb1503410c330d969d0be77e96c512500000000000000000022a4c696de0ef2e66b83f04b820da5bfd8bb4fb87533617e91a8c51ce9a1eb26ab99a15ba1192817aaf554c4fd5303010000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff4b033e4508082f5669614254432f2cfabe6d6d902bd4065c49136ef0b5df7159b23310c85fc035a20b13c7e607b8acb58445c90400000000000000103f66490d45d8f6a5806ebb572ca10000ffffffff023ec0444b000000001976a914536ffa992491508dca0354e52f32a3a7a679a53a88ac0000000000000000266a24aa21a9ed544edae712cedb995c6b91fa51cf46798e6ff54f9dfb3054546358eb70431cb701200000000000000000000000000000000000000000000000000000000000000000000000000200000001f804d16f7e7068a1fcec96cb9fcd844754ef275d0429c2f4127ed256cb8a6166000000006a47304402205b56e948f2dd0973aedd7bec02b6f49cc8d58cf21dbe36fe267d0c68515e7b8602200c242f6c2180d2921ea476a5295d9ce820c9059d5263e5a00446860c58df60ce012102d8665cd76a0c056bcd142f678ecfac99612aebd2fb9386175d926279c537e170ffffffff03107a07000000000017a914f743f2c08a360338402aca2af51c6dfa1440a43b8759e4be1c000000001976a914448f678edcf8faba0e7c58d96b8a6f22241d964788ac0490a6000000000017a914070aa51f2e32d52f62be26780eb316b5836e71c287000000000200000001b4694162fc802dd734267b1d9ef516752f1670191d9c8e0cc9fbaf297e549ced000000006b483045022100a90a49b2f579dd1cb57f91975489f118f0097cfcfcbabc248dba20f063a3cc15022023d4011708bae4021a45d07704e78d4845bb4febcbc931c592a5465789403211012103e7596629e225ba057842cd9eb111fe2b4f5c62e81d4f05205ea7068617b2390dffffffff037e3bf409000000001976a9146aad853e5fbda88e3f8af91cfcd66f788a5ff68188ace0081e03000000001976a9149a1caf68a0ab9996b100233d5a5580506c6e017f88ac303a0e000000000017a9141f8f4fee8d6ed5cafa925a9cd19ff6956dcd9a49870000000002000000000101186a77e4c00e86e4b16b23fbe0b14767695eed7b6c12cd9ff4638bd197f3a9b2090000001716001437de5da24ea7c8a3122ff93038f95492bd3834e5feffffff0d30750000000000001976a91434eebda89102b44d6aa31f1f58ee6162b5e13aef88ac20a10700000000001976a9149ee03b6c569190bd93a963272e5c3831b2372a9588ac40420f00000000001976a914e79041993eb402db2cfa2c88ad9acbafe18f8a3788ac002d3101000000001976a";

int tam = bloco0.length(); 

void setup() {
    Serial.begin(9600);
    Serial.print("Inicio ");
    Serial.println(tam);
    
    String hex = "";
    for(int i=-1; i < (tam-1); i+=2){
        hex = bloco0.charAt(i + 1);
        hex = hex + bloco0.charAt(i + 2);

        Serial.print(i);
        Serial.print(" - ");
        Serial.print(hex);
        int convertido = hexToDec(hex);
        Serial.print("=");
        Serial.println(convertido);

        tone(8, convertido * 18, 500); 
        delay(100);
    }
}


void loop() {
}

unsigned int hexToDec(String hexString) {
    unsigned int decValue = 0;
    int nextInt;
  
    for (int i = 0; i < hexString.length(); i++) {
        nextInt = int(hexString.charAt(i));
        if (nextInt >= 48 && nextInt <= 57) nextInt = map(nextInt, 48, 57, 0, 9);
        if (nextInt >= 65 && nextInt <= 70) nextInt = map(nextInt, 65, 70, 10, 15);
        if (nextInt >= 97 && nextInt <= 102) nextInt = map(nextInt, 97, 102, 10, 15);
        nextInt = constrain(nextInt, 0, 15);
        decValue = (decValue * 16) + nextInt;
    }
    return decValue;
}
